var ClimbingGrade=(function(){function a(f,e,d){this._inputGrade=f;this._inputSystemName=e;this._rangeDelimeter=d&&d.rangeDelimeter?d.rangeDelimeter:" to ";this._pairDelimeter=d&&d.pairDelimeter?d.pairDelimeter:"/";this._systems={internal:{grades:["0","3","6","9","12","15","18","21","24","27","30","33","36","39","42","45","48","51","54","57","60","63","66","69","72","75","78","81","84","87","90","93","96"]},yds:{grades:["5.1","5.2","5.3","5.4","5.5","5.6","5.7","5.8","5.9","5.10a","5.10b","5.10c","5.10d","5.11a","5.11b","5.11c","5.11d","5.12a","5.12b","5.12c","5.12d","5.13a","5.13b","5.13c","5.13d","5.14a","5.14b","5.14c","5.14d","5.15a","5.15b","5.15c","5.15d"]},french:{grades:["2","2+","3","3+","4","4+","5a","5b","5c","6a","6a+","6b","6b+","6c","6c/6c+","6c+","7a","7a+","7b","7b+","7c","7c+","8a","8a+","8b","8b+","8c","8c+","9a","9a+","9b","9b+","9c"]},australian:{grades:["7","8","9/10","11","12","13","14/15","15/16","17","18","19","20","20/21","21","22","22/23","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39"]},south_african:{grades:["8","9","10/11","12","13","14","15","16","17/18","19","20","21","22","22/23","23/24","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41"]},uiaa:{grades:["iii-","iii","iii+","iv-","iv","iv+/v-","v-/v","v+/vi-","vi-/vi","vi/vi+","vii-","vii-/vii","vii/vii+","vii+","viii-","viii","viii/viii+","viii+","ix-","ix-/ix","ix/ix+","ix+","x-","x-/x","x/x+","x+","xi-","xi","xi+","xi+/xii-","xii-/xii","xii","xii+"],format:String.prototype.toUpperCase},british:{grades:["m 1","d 2","vd 3a","vd 3b/hvd 3b","hvd 3c/s 3c","ms 4a","s 4b/hs 4b","hs 4b/vs 4b","hvs 4c","hvs 5a","e1 5a","e1 5b","e2 5b","e2 5c","e3 5c","e3 6a","e4 6a","e4 6b","e5 6b","e5 6b/e6 6b","e6 6b","e6 6c","e7 6c","e7 7a","e8 7a","e8 7b","e9 7b","e10 7b","e10 7c","e11 7c","e11 8a","e11 8b","e11 8c"],format:function(){var g=this.split(" ");return g[0].toUpperCase()+" "+g[1]}},hueco:{grades:["vb","vb","vb","vb","vb","vb","vb","vb","vb","vb","v0","v0+","v1","v2","v2","v3","v4","v4","v5","v5","v6","v7","v8","v8","v9","v10","v11","v12","v13","v14","v15","v16","v17"],format:String.prototype.toUpperCase},font:{grades:["1","1","1","1","1","1+","2","2+","3","3+","4","4+","5","5+","6a","6a+","6b","6b+","6c","6c+","7a","7a+","7b","7b+","7c","7c+","8a","8a+","8b","8b+","8c","8c+","9a"],format:String.prototype.toUpperCase}};this._universalGrades=this.getUniversalGrades()}function c(e,d){return d.format?d.format.call(e):e}var b=function(p,r){var e=this.getSystem(p);if(p===this._inputSystemName){return c(this._inputGrade,e)}var h=r&&r.pairDelimeter?r.pairDelimeter:this._pairDelimeter;var k=r&&r.rangeDelimeter?r.rangeDelimeter:this._rangeDelimeter;var d=Object.create(null);var n=this.getUniversalGrades();var s=[];for(var m=0;m<n.length;m++){var q=e.grades[n[m]].split("/");for(var l=0;l<q.length;l++){var o=q[l];var f=c(o,e);if(!(f in d)){d[f]=true;s.push(f)}}}if(s.length==1){return s[0]}else{if(s.length==2){return s.join(h)}else{if(s.length>2){return s[0]+k+s[s.length-1]}}}};a.prototype.getSystem=function(d){var e=this._systems[d];if(e){return e}else{throw new Error("Climbing System Not Recognized")}};a.prototype.getUniversalGrades=function(){if(this._universalGrades){return this._universalGrades}var g=this._inputGrade.toLowerCase();var d=this.getSystem(this._inputSystemName).grades;var f=[];for(var e=0;e<d.length;e++){if(d[e].split("/").indexOf(g)>-1){f.push(e)}else{if(f.length>0){break}}}if(f.length===0){return}return f};a.prototype.format=function(e,d){return b.call(this,e,d)};return a})();if(typeof exports==="undefined"){this.ClimbingGrade=ClimbingGrade}else{module.exports=ClimbingGrade};